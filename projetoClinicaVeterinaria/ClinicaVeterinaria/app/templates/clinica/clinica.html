{%extends 'base.html'%}
{%load static%}

{%block estiloCss%}
<link rel="stylesheet" href="{%static 'css/padrao.css'%}">
{%endblock%}
{%block titulo%}
clinicas
{%endblock%}

{%block conteudo%}
<div>
    <h1>Clinicas cadastradas</h1>
    <table>
        <thead>
            <tr>
            <th>Nome</th>
            <th>CNPJ</th>
            <th>Endereço</th>
            <th>Telefone</th>
            <th>Logo</th>
            <th>AÇÕES</th>
            </tr>
        </thead>

        <tbody>
            {%for clinica in clinicas%}
            <tr>
            <td>{{ clinica.nome }}</td>
            <td>{{ clinica.CNPJ }}</td>
            <td>{{ clinica.endereco }}</td>
            <td>{{ clinica.telefone }}</td>
            <td>
              {% if clinica.logo%}
                <img src="{{clinica.logo.url}}" alt="" width="150px" height="150px">
              {%else%}
                <span>Sem imagem cadastrada</span>
              {%endif%}
            </td>
            <td id="link">
                <a class="btnA" href="{%url 'editarClinica' clinica.id %}">EDITAR</a>
                <a class="btnA" href="{% url 'excluirClinica' clinica.id%}">EXCLUIR</a>
            </td>
        </tr>
            {%empty%}
            <tr colspan = "4">Nenhuma clinica Cadastrada no sistema</tr>
            {%endfor%}
        </tbody>
    </table>


    <nav aria-label="Page navigation">
    <ul class="pagination justify-content-center">
    {%if clinicas.number == 1%}
    {# Primeira / Anterior #}
      <li class="page-item disabled">
        <a class="page-link" href="#">&laquo; Primeira &#40 {{clinicas.number}} &#41 </a>
      </li>
      <li class="page-item disabled">
        <a class="page-link" href="#">Anterior</a>
      </li>
      {% else %}
        {# Primeira / Anterior #}
         <li class="page-item">
        <a class="page-link" href="{% url 'clinica' %}?pc=1">&laquo; Primeira &#40 1 &#41 </a>
      </li>
      <li class="page-item">
        <a class="page-link" href="{% url 'clinica' %}?pc={{clinicas.previous_page_number}}">Anterior &#40 {{clinicas.previous_page_number}} &#41</a>
      </li>

      {% endif %}


    {# página atual (apenas exibindo o número, igual ao seu exemplo) #}
      <li class="page-item disabled">
        <a class="page-link" href="">{{clinicas.number}}</a>
      </li>

      {%if clinicas.paginator.num_pages == clinicas.number%}
    {# Próxima / Última #}
      <li class="page-item disabled">
        <a class="page-link" href="#">Próxima </a>
      </li>
      <li class="page-item disabled">
        <a class="page-link" href="#">Última &#40 {{clinicas.paginator.num_pages}} &#41&raquo;</a>
      </li>
    {%else%}
     <li class="page-item">
        <a class="page-link" href="{% url 'clinica' %}?pc={{clinicas.next_page_number}}">Próxima &#40 {{ clinicas.next_page_number}}&#41</a>
      </li>
      <li class="page-item">
        <a class="page-link" href="{%url 'clinica'%}?pc={{clinicas.paginator.num_pages}}">Última &#40 {{clinicas.paginator.num_pages}} &#41 &raquo;</a>
      </li>

      {%endif%}
    </ul>
    </nav>

    <hr>

    <h1>cadastro de clinica</h1>
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        {{formulario.as_p}}
        <button type="submit">SALVAR</button>
    </form>


</div>
{% endblock %}