{%extends 'base.html'%}
{%load static%}

{%block estiloCss%}
<link rel="stylesheet" href="{%static 'css/padrao.css'%}">
{%endblock%}
{%block titulo%}
Pedido
{%endblock%}


{%block conteudo%}
<div>
<h1>Pedidos cadastrados</h1>
    <table>
        <thead> 
            <tr>
            <th>Id pedido</th>
            <th>Cliente</th>
            <th>Veterinario</th>
            <th>Pet</th>
            <th>Valor Total</th>
            <th>Data</th>
            <th>Anexo?</th>
            <th>Ações</th>
           
        </thead>

        <tbody>
            {%for pedido in pedidos%}
            <tr>
            <td>{{ pedido.id }}</td>
            <td>{{ pedido.idCliente }}</td>
            <td>{{ pedido.idVeterinario }}</td>
            <td>{{ pedido.idPet }}</td>
            <td>{{ pedido.valorTotal }}</td>
            <td>{{ pedido.dataPedido }}</td>
            <td>{{ pedido.anexos }}</td>
            <td>
                <a class="btnA" href="{%url 'editarPedido' pedido.id%}">EDITAR</a>
                <a class="btnA" href="{%url 'excluirPedido' pedido.id%}">EXCLUIR</a>
            </td>
        </tr>
            {%empty%}
            <tr colspan = "4">Nenhum pedido cadastrado no sistema</tr>
            {%endfor%}
        </tbody>
    </table>


      <nav aria-label="Page navigation">
    <ul class="pagination justify-content-center">
    {%if pedidos.number == 1%}
    {# Primeira / Anterior #}
      <li class="page-item disabled">
        <a class="page-link" href="#">&laquo; Primeira &#40 {{pedidos.number}} &#41 </a>
      </li>
      <li class="page-item disabled">
        <a class="page-link" href="#">Anterior</a>
      </li>
      {% else %}
        {# Primeira / Anterior #}
         <li class="page-item">
        <a class="page-link" href="{% url 'pedido' %}?pc=1">&laquo; Primeira &#40 1 &#41 </a>
      </li>
      <li class="page-item">
        <a class="page-link" href="{% url 'pedido' %}?pc={{pedidos.previous_page_number}}">Anterior &#40 {{pedidos.previous_page_number}} &#41</a>
      </li>

      {% endif %}


    {# página atual (apenas exibindo o número, igual ao seu exemplo) #}
      <li class="page-item disabled">
        <a class="page-link" href="">{{pedidos.number}}</a>
      </li>

      {%if pedidos.paginator.num_pages == pedidos.number%}
    {# Próxima / Última #}
      <li class="page-item disabled">
        <a class="page-link" href="#">Próxima </a>
      </li>
      <li class="page-item disabled">
        <a class="page-link" href="#">Última &#40 {{pedidos.paginator.num_pages}} &#41&raquo;</a>
      </li>
    {%else%}
     <li class="page-item">
        <a class="page-link" href="{% url 'pedido' %}?pc={{pedidos.next_page_number}}">Próxima &#40 {{ pedidos.next_page_number}}&#41</a>
      </li>
      <li class="page-item">
        <a class="page-link" href="{%url 'pedido'%}?pc={{pedidos.paginator.num_pages}}">Última &#40 {{pedidos.paginator.num_pages}} &#41 &raquo;</a>
      </li>

      {%endif%}
    </ul>
    </nav>

    <hr>
     <h1>cadastro de Pedido</h1>
    <form method="POST">
        {% csrf_token %}
        {{formulario.as_p}}
        <button type="submit">SALVAR</button>
    </form>

</div>
{%endblock%}