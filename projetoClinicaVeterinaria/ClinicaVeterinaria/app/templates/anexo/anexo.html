{% extends 'base.html' %}
{% load static %}

{% block estiloCss %}
<link rel="stylesheet" href="{% static 'css/padrao.css' %}">
{% endblock %}

{% block titulo %}
Anexo
{% endblock %}

{% block conteudo %}
<div>
    <h1>Anexos cadastrados</h1>

    <table>
        <thead> 
            <tr>
                <th>Duração</th>
                <th>Informações</th>
                <th>Serviço</th>
                <th>Ações</th>
            </tr>
        </thead> 
        <tbody>
            {% for anexo in anexos %}
            <tr>
                <td>{{ anexo.duracao }}</td>
                <td>{{ anexo.informacoes }}</td>
                <td>{{ anexo.idServico }}</td>
                <td>
                    <a class="btnA" href="{% url 'editarAnexo' anexo.id%}">EDITAR</a>
                    <a class="btnA" href="{% url 'excluirAnexo' anexo.id%}">EXCLUIR</a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="4">Nenhum anexo cadastrado no sistema</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center">
            {% if anexos.number == 1 %}
                <li class="page-item disabled">
                    <a class="page-link" href="#">&laquo; Primeira ({{ anexos.number }})</a>
                </li>
                <li class="page-item disabled">
                    <a class="page-link" href="#">Anterior</a>
                </li>
            {% else %}
                <li class="page-item">
                    <a class="page-link" href="{% url 'anexo' %}?pc=1">&laquo; Primeira (1)</a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="{% url 'anexo' %}?pc={{ anexos.previous_page_number }}">Anterior ({{ anexos.previous_page_number }})</a>
                </li>
            {% endif %}

            <li class="page-item disabled">
                <a class="page-link" href="#">Página {{ anexos.number }}</a>
            </li>

            {% if anexos.paginator.num_pages == anexos.number %}
                <li class="page-item disabled">
                    <a class="page-link" href="#">Próxima</a>
                </li>
                <li class="page-item disabled">
                    <a class="page-link" href="#">Última ({{ anexos.paginator.num_pages }}) &raquo;</a>
                </li>
            {% else %}
                <li class="page-item">
                    <a class="page-link" href="{% url 'anexo' %}?pc={{ anexos.next_page_number }}">Próxima ({{ anexos.next_page_number }})</a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="{% url 'anexo' %}?pc={{ anexos.paginator.num_pages }}">Última ({{ anexos.paginator.num_pages }}) &raquo;</a>
                </li>
            {% endif %}
        </ul>
    </nav>

    <hr>

    <h1>Cadastro de Anexo</h1>
    <form method="POST">
        {% csrf_token %}
        <div class="form-grupo">
            <label>Duração</label>
            {{ formulario.duracao }}
        </div>
        <div class="form-grupo">
            <label>Informações</label>
            {{ formulario.informacoes }}
        </div>
        <div class="form-grupo">
            <label>idServico</label>
            {{ formulario.idServico }}
        </div>
        <button type="submit">SALVAR</button>
    </form>
</div>
{% endblock %}
